(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(t,e,o){"use strict";o.r(e);var a=o("7a23");const s=Object(a["l"])("Дискорд"),n=Object(a["l"])("Регистрация");function r(t,e,o,r,c,i){const m=Object(a["I"])("Button"),u=Object(a["I"])("AuthForm");return Object(a["A"])(),Object(a["g"])(u,{info:c.info,username:c.formData.username,"onUpdate:username":e[1]||(e[1]=t=>c.formData.username=t),password:c.formData.password,"onUpdate:password":e[2]||(e[2]=t=>c.formData.password=t),onFinish:i.login},{default:Object(a["Q"])(()=>[Object(a["m"])(m,{onClick:i.discordLogin,style:{"margin-top":"10px"}},{default:Object(a["Q"])(()=>[s]),_:1},8,["onClick"]),Object(a["m"])(m,{onClick:e[0]||(e[0]=t=>this.$router.push("registration")),style:{"margin-top":"10px"}},{default:Object(a["Q"])(()=>[n]),_:1})]),_:1},8,["info","username","password","onFinish"])}var c=o("bc3a"),i=o.n(c),m=o("4360");const u=i.a.create({baseURL:"http://192.168.1.222:3000",timeout:2e4,headers:{Accept:"application/json"}});u.interceptors.request.use(t=>(t.headers.common={...t.headers.common,Authorization:"Bearer "+m["a"].state.userToken},t),t=>Promise.reject(t)),u.interceptors.response.use(t=>t,t=>{throw 401===t.response.status&&m["a"].commit("user/killUser"),t});var d=u,p=o("2b14"),h=o("bb57"),l={name:"Login",components:{AuthForm:p["a"],Button:h["a"]},data(){return{info:{username:"Логин",password:"Пароль",btn:"Войти"},formData:{username:"",password:""}}},methods:{login(){d({method:"post",url:"/auth",data:this.formData}).then(t=>{console.log(t.data),this.$store.commit("setUserToken",t.data.token),this.$router.push({name:"Home"})}).catch(t=>{console.log(t)})},discordLogin(){d({method:"post",url:"/login/discord",data:this.formData}).then(t=>{console.log(t.data)}).catch(t=>{console.log(t)})}}},b=o("6b0d"),f=o.n(b);const g=f()(l,[["render",r]]);e["default"]=g}}]);
//# sourceMappingURL=chunk-2d2086b7.66674e3b.js.map