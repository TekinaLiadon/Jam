(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(o,t,e){"use strict";e.r(t);var a=e("7a23");const s=Object(a["l"])("Дискорд"),n=Object(a["l"])("Регистрация");function r(o,t,e,r,c,i){const d=Object(a["I"])("Button"),m=Object(a["I"])("AuthForm");return Object(a["A"])(),Object(a["g"])(m,{info:c.info,username:c.formData.username,"onUpdate:username":t[1]||(t[1]=o=>c.formData.username=o),password:c.formData.password,"onUpdate:password":t[2]||(t[2]=o=>c.formData.password=o),onFinish:i.login},{default:Object(a["Q"])(()=>[Object(a["m"])(d,{onClick:i.discordLogin,style:{"margin-top":"10px"}},{default:Object(a["Q"])(()=>[s]),_:1},8,["onClick"]),Object(a["m"])(d,{onClick:t[0]||(t[0]=o=>this.$router.push("registration")),style:{"margin-top":"10px"}},{default:Object(a["Q"])(()=>[n]),_:1})]),_:1},8,["info","username","password","onFinish"])}var c=e("bc3a"),i=e.n(c),d=e("4360");const m=i.a.create({baseURL:"http://localhost:3000/api",timeout:2e4,headers:{Accept:"application/json"}});m.interceptors.request.use(o=>(o.headers.common={...o.headers.common,Authorization:"Bearer "+d["a"].state.userToken},o),o=>Promise.reject(o)),m.interceptors.response.use(o=>o);var u=m,p=e("2b14"),h=e("bb57"),l={name:"Login",components:{AuthForm:p["a"],Button:h["a"]},data(){return{info:{username:"Логин",password:"Пароль",btn:"Войти"},formData:{username:"",password:""}}},methods:{login(){u({method:"post",url:"/auth",data:this.formData}).then(o=>{console.log(o.data),this.$store.commit("setUserToken",o.data.token),this.$router.push({name:"Home"})}).catch(o=>{console.log(o)})},discordLogin(){u({method:"post",url:"/login/discord",data:this.formData}).then(o=>{console.log(o)}).catch(o=>{console.log(o)})}}},b=e("6b0d"),f=e.n(b);const g=f()(l,[["render",r]]);t["default"]=g}}]);
//# sourceMappingURL=chunk-2d2086b7.73586c22.js.map